(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports={wrapper:"MenuItems_wrapper__NmpsO"}},158:function(e,t,a){e.exports=a(331)},163:function(e,t,a){},33:function(e,t,a){e.exports={wrapper:"Configurator_wrapper__14rRC",header:"Configurator_header__1unvX",contentWrapper:"Configurator_contentWrapper__3onhG",loadingSpinner:"Configurator_loadingSpinner__Q4exP",loadingSpinnerBorder:"Configurator_loadingSpinnerBorder__1fbgI",lang:"Configurator_lang__3pDwN",lang__btn:"Configurator_lang__btn__CByYq",active:"Configurator_active__1-IGR"}},331:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(52),c=a.n(o),i=(a(163),a(16)),s=a(17),u=a(21),l=a(18),p=a(22),d=a(15),m=a(14),g=a(343),f=a(55),v=a(63),h=a(4),_="CONFIGURATOR_GET_CATEGORIES_START",b="CONFIGURATOR_GET_CATEGORIES_SUCCESS",O="CONFIGURATOR_GET_CATEGORIES_ERROR",E="CONFIGURATOR_PRODUCT_EMAIL_MODAL_TOGGLE",y="CONFIGURATOR_PRODUCT_EMAIL_MODAL_OPEN",S="CONFIGURATOR_GET_DEFAULT_CATEGORY",C="CONFIGURATOR_SAVE_ROUTE_LNG",j=JSON.parse(localStorage.getItem("userSettings")),N={isLoading:!1,isError:!1,categories:[],isCategoriesLoaded:!1,savedProductsModal:!1,productExists:!1,productEmailModal:!1,defaultCategory:"",routeLng:"",defaultLng:"pl",userSettings:Object(h.a)({activeCategoryId:null,activeItems:null,savedProducts:[]},j)},I=Object(m.c)({configuratorStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONFIGURATOR_SET_DEFAULT_ACTIVE_ITEMS":var a=e.categories.length>0&&Object(v.a)(e.categories).map(function(e){return Object(f.a)({},e.id,e.items[0].id)}).reduce(function(e,t){return Object(h.a)({},e,t)}),r=Object(h.a)({},e.userSettings,{activeItems:a});return Object(h.a)({},e,{userSettings:r});case"CONFIGURATOR_SET_ACTIVE_ITEMS":var n=[],o={};return function(){var a=Object(h.a)({},e.userSettings.activeItems,t.payload.items);o=Object(h.a)({},e.userSettings,{activeItems:a}),localStorage.setItem("userSettings",JSON.stringify(o))}(),n=e.categories.map(function(e){var t=o.activeItems[e.id],a=[],r=!1;return a=e.items.map(function(e){return e.id===t?(r=!0,Object(h.a)({},e,{active:!0})):Object(h.a)({},e,{active:!1})}),r||(a[0].active=!0),Object(h.a)({},e,{items:a})}),Object(h.a)({},e,{userSettings:o,categories:n});case"CONFIGURATOR_SET_ACTIVE_CATEGORY":var c=e.categories.length>0&&e.categories[0].id,i=t.payload.categoryId?t.payload.categoryId:c,s=e.categories.map(function(e){return e.id===i?Object(h.a)({},e,{active:!0}):Object(h.a)({},e,{active:!1})}),u=Object(h.a)({},e.userSettings,{activeCategoryId:i});return localStorage.setItem("userSettings",JSON.stringify(u)),Object(h.a)({},e,{categories:s,userSettings:u});case"CONFIGURATOR_SAVED_PRODUCTS_TOGGLE":return Object(h.a)({},e,{savedProductsModal:!e.savedProductsModal});case"CONFIGURATOR_OPEN_SAVED_PRODUCTS":return Object(h.a)({},e,{savedProductsModal:!0});case"CONFIGURATOR_REMOVE_PRODUCT":var l=t.payload.index,p=Object(v.a)(e.userSettings.savedProducts);p.splice(l,1);var d=Object(h.a)({},e.userSettings,{savedProducts:p});return localStorage.setItem("userSettings",JSON.stringify(d)),Object(h.a)({},e,{userSettings:d});case"CONFIGURATOR_ADD_PRODUCT":var m=Object(v.a)(e.userSettings.savedProducts);m=[{img:t.payload.img,productParts:e.userSettings.activeItems}].concat(Object(v.a)(m));var g=Object(h.a)({},e.userSettings,{savedProducts:m});return localStorage.setItem("userSettings",JSON.stringify(g)),Object(h.a)({},e,{userSettings:g});case"CONFIGURATOR_CHECK_PRODUCT_EXIST":var j=e.userSettings.savedProducts.findIndex(function(t){return JSON.stringify(t.productParts)===JSON.stringify(e.userSettings.activeItems)})>-1;return Object(h.a)({},e,{productExists:j});case"CONFIGURATOR_CHECK_SAVED_PRODUCTS":var I=Object(v.a)(e.userSettings.savedProducts).filter(function(t){return Object.keys(t.productParts).every(function(a){var r=e.categories.findIndex(function(e){return e.id===Number(a)});return r>-1&&e.categories[r].items.findIndex(function(e){return e.id===t.productParts[a]})>-1})});return Object(h.a)({},e,{userSettings:Object(h.a)({},e.userSettings,{savedProducts:I})});case _:return Object(h.a)({},e,{isLoading:!0});case b:return Object(h.a)({},e,{isLoading:!1,isCategoriesLoaded:!0,categories:t.payload.data});case O:return Object(h.a)({},e,{isLoading:!1,isError:!0});case E:return Object(h.a)({},e,{productEmailModal:!e.productEmailModal});case y:return Object(h.a)({},e,{productEmailModal:!0});case S:var P=e.categories.findIndex(function(t){return t.id===e.userSettings.activeCategoryId}),R=null;P>-1&&(R=e.categories[P].slug);var T="";return null!==R?T=R:e.categories.length&&(T=e.categories[0].slug),Object(h.a)({},e,{defaultCategory:T});case C:var k=t.payload.lng===e.defaultLng?"":"/"+t.payload.lng;return Object(h.a)({},e,{routeLng:k});default:return e}},form:g.a}),P=a(149),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,T=Object(m.e)(I,R(Object(m.a)(P.a))),k=a(57),A=a(46),w=a(20),D=function(e){return{type:"CONFIGURATOR_SET_ACTIVE_ITEMS",payload:{items:e}}},U=function(e){return{type:"CONFIGURATOR_SET_ACTIVE_CATEGORY",payload:{categoryId:e}}},x=function(e){return{type:"CONFIGURATOR_ADD_PRODUCT",payload:{img:e}}};function L(e){return function(t){return t({type:_}),fetch(e).then(function(e){return e.json()}).then(function(e){return t(function(e){return{type:b,payload:{data:e}}}(e))}).catch(function(e){return t(function(e){return{type:O,payload:{error:e}}}(e))})}}var M=a(48),F=a(33),G=a.n(F),z=a(60),V=a.n(z),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).handleCategoryClick=function(e){a.props.setActiveCategory(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.configuratorStore.categories,r=a.map(function(a){return n.a.createElement(k.b,{to:e.props.routeLng+"/"+t("routeCategoryName")+"/"+a.slug,key:a.id,className:"d-block px-5 py-3 ".concat(V.a.link),activeClassName:V.a.active,onClick:e.handleCategoryClick.bind(e,a.id)},a.name)}),o=n.a.createElement(k.b,{to:this.props.routeLng+"/"+t("routeSummaryName"),className:"d-block px-5 py-3 ".concat(V.a.link),activeClassName:V.a.active},t("ready"));return n.a.createElement("div",{className:V.a.wrapper},r,a.length?o:null)}}]),t}(r.Component),q=Object(A.f)(Object(d.b)(function(e){return Object(h.a)({},e,{routeLng:e.configuratorStore.routeLng})},function(e){return{setActiveCategory:function(t){return e(U(t))}}})(Object(w.b)()(W))),J=a(153),Z=a.n(J),Y=a(70),H=a.n(Y),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e,t){a.props.setActiveItems(Object(f.a)({},e,t))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"list",value:function(){var e=this,t=this.props.configuratorStore.categories.filter(function(e){return!0===e.active})[0],a=[];return t&&(a=t.items.map(function(a){return n.a.createElement("div",{key:a.id,className:"col-md-6 p-4 d-flex justify-content-center align-content-center"},n.a.createElement("button",{className:"".concat(H.a.item," ").concat(a.active&&H.a.active),onClick:e.handleClick.bind(e,t.id,a.id)},n.a.createElement("img",{src:"".concat("/configurator-app","/img/simple-model.png"),alt:"",className:H.a.simpleModel}),n.a.createElement("img",{src:a.imgThumb,alt:"",className:H.a.thumb}),a.name))})),a}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.list())}}]),t}(r.Component),K=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{setActiveItems:function(t){return e(D(t))},checkProductExist:function(){return e({type:"CONFIGURATOR_CHECK_PRODUCT_EXIST"})}}})(B),X=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.configuratorStore.categories.filter(function(e){return!0===e.active})[0],t=e&&e.name;return n.a.createElement("div",{className:Z.a.wrapper},t?n.a.createElement("div",{className:"text-center py-4"},n.a.createElement("h2",null,t)):null,n.a.createElement("div",{className:"row"},n.a.createElement(K,null)))}}]),t}(r.Component),Q=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{}})(X),$=a(71),ee=a.n($),te=a(47),ae=a.n(te);function re(e){ae()().set({html2canvas:{logging:!1,ignoreElements:function(e){return"btnAdd"===e.id}}}).from(document.querySelector("#product")).toImg().outputImg().then(function(t){(function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpeg";return new Promise(function(n,o){e.addEventListener("load",function(){var o=document.createElement("canvas"),c=o.getContext("2d");o.width=t,o.height=a,c.drawImage(e,0,0,t,a);var i=o.toDataURL("image/".concat(r));n(i)})})})(t,186,124).then(function(t){e(t)})})}var ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).componentUpdated=!1,a.handleAddClick=function(){a.props.configuratorStore.productExists?a.props.openSavedProducts():(a.props.openSavedProducts(),re(a.props.addProduct))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.checkProductExist()}},{key:"componentDidUpdate",value:function(){this.componentUpdated?this.componentUpdated=!1:(this.props.checkProductExist(),this.componentUpdated=!0)}},{key:"render",value:function(){var e=this.props.t,t=this.props.configuratorStore.categories,a=t.map(function(e){return e.items.map(function(e){return e.active?n.a.createElement("img",{src:"/configurator-app"+e.imgLarge,alt:"",key:e.id,className:ee.a.img,style:{zIndex:e.indexCss}}):null})}),r=this.props.configuratorStore.productExists,o=n.a.createElement("button",{className:"btn btn-primary ".concat(ee.a.btnAdd," ").concat(r?ee.a.active:void 0),id:"btnAdd",onClick:this.handleAddClick},r?n.a.createElement("span",null,e("saved_product")):n.a.createElement("span",null,e("save_product")));return n.a.createElement("div",{className:ee.a.bg,style:{backgroundImage:"url(".concat("/configurator-app","/img/product-bg.jpg)")},id:"product"},n.a.createElement("img",{src:"".concat("/configurator-app","/img/transparent-bg.png"),alt:"",className:"img-fluid"}),a,t.length&&!this.props.onlyImg?o:null)}}]),t}(r.Component),oe=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{openSavedProducts:function(){return e({type:"CONFIGURATOR_OPEN_SAVED_PRODUCTS"})},addProduct:function(t){return e(x(t))},checkProductExist:function(){return e({type:"CONFIGURATOR_CHECK_PRODUCT_EXIST"})}}})(Object(w.b)()(ne)),ce=a(61),ie=a.n(ce),se=a(337);var ue=a(342),le=a(338),pe=a(339),de=a(341),me=a(340),ge={pl:{translation:{loading:"Wczytywanie",configurator:"Konfigurator",routeCategoryName:"kategoria",routeSummaryName:"gotowe",save_product:"Zapisz produkt",saved_product:"Produkt zapisany",saved_products:"Zapisane produkty",add_product:"Dodaj produkt",form_sent:"Formularz zosta\u0142 wys\u0142any. Email nie zosta\u0142 dostarczony: testowe API - http://httpbin.org/post. Odpowied\u017a z serwera w konsoli.",form_error:"Wyst\u0105pi\u0142 b\u0142\u0105d. Formularz nie zosta\u0142 wys\u0142any.",send_product_email:"Wy\u015blij opis produktu w wiadomo\u015bci E-mail",your_product:"Tw\xf3j produkt",save_product_as_img:"Zapisz produkt jako obrazek",save_product_as_pdf:"Zapisz opis produktu jako PDF",remove:"Usu\u0144",error_email:"Wpisz poprawny email",error_title:"Wpisz tytu\u0142",enter_message:"Wpisz wiadomo\u015b\u0107",error_regulation:"Zaakteptuj zgod\u0119",regulation:"Zaakceptuj zgod\u0119",submit:"Wy\u015blij",ready:"Gotowe",your_email:"Tw\xf3j e-mail",recipient_email:"E-mail odbiorcy",agree_regulations:"Zaakceptuj zgod\u0119",required_fields:"Wymagane pola",title:"Tytu\u0142",message:"Wiadomo\u015b\u0107"}},en:{translation:{loading:"Loading",configurator:"Configurator",routeCategoryName:"category",routeSummaryName:"ready",save_product:"Save product",saved_product:"Product saved",saved_products:"Saved products",add_product:"Add product",form_sent:"The form has been sent. Email was not delivered: test API - http://httpbin.org/post. Response from the server in the console.",form_error:"An error occured. The form has not been sent.",send_product_email:"Send the product description in an E-mail message",your_product:"Your product",save_product_as_img:"Save the product as a picture",save_product_as_pdf:"Save the product description as PDF",remove:"Remove",error_email:"Enter the correct email",error_title:"Enter the title",enter_message:"Enter the message",error_regulation:"Accept consent",regulation:"Accept consent",submit:"Submit",ready:"Ready",your_email:"Your e-mail",recipient_email:"E-mail recipient",agree_regulations:"Accept consent",required_fields:"Required fields",title:"Title",message:"Message"}}},fe=a(332),ve=a(333),he=a(334),_e=a(335),be=a(336),Oe=function(e){var t=e.input,a=e.id,r=e.label,o=e.type,c=e.meta,i=c.touched,s=c.error;return n.a.createElement(n.a.Fragment,null,n.a.createElement(fe.a,{htmlFor:a},r),n.a.createElement(ve.a,Object.assign({id:a},t,{type:o})),n.a.createElement("div",{className:"text-danger"},i&&s&&n.a.createElement("span",null,s)))},Ee=function(e){var t=e.input,a=e.label,r=e.meta,o=r.touched,c=r.error;return n.a.createElement(n.a.Fragment,null,n.a.createElement(fe.a,{check:!0},n.a.createElement(ve.a,Object.assign({},t,{type:"checkbox"})),a),n.a.createElement("div",{className:"text-danger"},o&&c&&n.a.createElement("span",null,c)))},ye=Object(me.a)({form:"productEmail",validate:function(e){var t=M.a.language,a={},r=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return r.test(e.emailSender)||(a.emailSender=ge[t].translation.error_email),r.test(e.emailRecipient)||(a.emailRecipient=ge[t].translation.error_email),e.title||(a.title=ge[t].translation.error_title),e.regulation||(a.regulation=ge[t].translation.error_regulation),console.log(a),a}})(Object(w.b)()(function(e){var t=e.t,a=e.handleSubmit,r=e.pristine,o=e.submitting;return n.a.createElement(he.a,{onSubmit:a,noValidate:!0},n.a.createElement(_e.a,null,n.a.createElement(de.a,{name:"emailSender",id:"emailSender",label:t("your_email")+"*",component:Oe,type:"email"})),n.a.createElement(_e.a,null,n.a.createElement(de.a,{name:"emailRecipient",id:"emailRecipient",label:t("recipient_email")+"*",component:Oe,type:"email"})),n.a.createElement(_e.a,null,n.a.createElement(de.a,{name:"title",id:"title",label:t("title")+"*",component:Oe,type:"text"})),n.a.createElement(_e.a,null,n.a.createElement(de.a,{name:"message",id:"message",label:t("message"),component:Oe,type:"textarea"})),n.a.createElement(_e.a,{check:!0},n.a.createElement(de.a,{name:"regulation",label:t("agree_regulations")+"*",component:Ee})),n.a.createElement("p",{className:"mt-4"},"* ",t("required_fields")+"*"),n.a.createElement(be.a,{color:"primary",className:"mt-4",disabled:r||o},e.t("submit")," ",o&&n.a.createElement(se.a,{size:"sm",color:"danger",className:"ml-2"})))}));var Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={successMessage:"",errorMessage:""},a.handleToggleModal=function(){a.props.productEmailModalToggle()},a.handleSubmit=function(e){var t=a.props.t,r=new FormData;for(var n in e)e.hasOwnProperty(n)&&r.append(n,e[n]);return ae()().set({margin:1,image:{type:"png"},html2canvas:{logging:!1},jsPDF:{orientation:"landscape"}}).from(document.querySelector("#templatePDF")).outputPdf("blob").then(function(e){r.append("product_pdf",e)}).then(function(){return fetch(Ae,{method:"POST",body:r}).then(function(e){return e.ok?a.setState({submitting:!1,successMessage:t("form_sent"),errorMessage:""}):a.setState({submitting:!1,errorMessage:t("form_error")}),e}).then(function(e){return e.ok?e.json():e}).then(function(e){console.log(e)})})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.configuratorStore.productEmailModal!==e.configuratorStore.productEmailModal&&setTimeout(function(){t.setState({successMessage:""})},1e3)}},{key:"render",value:function(){var e=this.props.t,t=this.props.configuratorStore.productEmailModal;return n.a.createElement(ue.a,{isOpen:t,toggle:this.handleToggleModal,className:this.props.className},n.a.createElement(le.a,{toggle:this.handleToggleModal},e("send_product_email")),n.a.createElement(pe.a,null,this.state.successMessage?null:n.a.createElement(ye,{onSubmit:this.handleSubmit}),n.a.createElement("div",{className:"my-4 text-center"},this.state.successMessage&&n.a.createElement("h3",null,this.state.successMessage),this.state.errorMessage&&n.a.createElement("h3",null,this.state.errorMessage))))}}]),t}(r.Component),Ce=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{productEmailModalToggle:function(){return e({type:E})}}})(Object(w.b)()(Se));var je=Object(w.b)()(function(e){var t=n.a.createElement("table",null,n.a.createElement("tbody",null,e.categories.map(function(e){var t={categoryName:e.name,itemName:""};return e.items.forEach(function(e){!0===e.active&&(t.itemName=e.name)}),n.a.createElement("tr",{key:e.id},n.a.createElement("th",{className:"py-2 px-4"},t.categoryName,":"),n.a.createElement("td",{className:"py-2 px-4"},t.itemName))})));return n.a.createElement("div",{className:"d-none"},n.a.createElement("div",{id:"templatePDF"},n.a.createElement("h2",{className:"mt-5 mb-4 text-center text-uppercase"},e.t("your_product")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6 p-4"},n.a.createElement(oe,{onlyImg:!0})),n.a.createElement("div",{className:"col-6 p-4"},t))))}),Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={creatingPdf:!1,creatingImg:!1},a.handleOpenProductsClick=function(){a.props.openSavedProducts()},a.handleSaveProductImgClick=function(){a.setState({creatingImg:!0});ae()().set({html2canvas:{logging:!1,ignoreElements:function(e){return"btnAdd"===e.id}}}).from(document.querySelector("#product")).toImg().outputImg("dataurlstring").then(function(e){return t=e,a="produkt.jpg",new Promise(function(e,r){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",a),n.style.display="none",document.querySelector("body").appendChild(n),n.click(),n.remove(),e()});var t,a}).then(function(){a.setState({creatingImg:!1})})},a.handleSaveProductPdfClick=function(){a.setState({creatingPdf:!0});ae()().set({margin:1,filename:"produkt.pdf",image:{type:"png"},html2canvas:{logging:!1},jsPDF:{orientation:"landscape"}}).from(document.querySelector("#templatePDF")).save().then(function(){a.setState({creatingPdf:!1})})},a.handleProductEmailModalOpen=function(){a.props.productEmailModalOpen()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.t,t=this.props.configuratorStore.userSettings.savedProducts.length;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:ie.a.wrapper},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 p-4 d-flex justify-content-center align-content-center"},n.a.createElement("button",{type:"button",className:"btn p-3 ".concat(ie.a.item),onClick:this.handleOpenProductsClick},e("saved_products")," (",t,")")),n.a.createElement("div",{className:"col-md-6 p-4 d-flex justify-content-center align-content-center"},n.a.createElement("button",{type:"button",className:"btn p-3 ".concat(ie.a.item),onClick:this.handleSaveProductImgClick,disabled:this.state.creatingImg},e("save_product_as_img"),this.state.creatingImg&&n.a.createElement("div",null,n.a.createElement(se.a,{size:"sm",color:"danger",className:"ml-2"})))),n.a.createElement("div",{className:"col-md-6 p-4 d-flex justify-content-center align-content-center"},n.a.createElement("button",{type:"button",className:"btn p-3 ".concat(ie.a.item),onClick:this.handleSaveProductPdfClick,disabled:this.state.creatingPdf},e("save_product_as_pdf"),this.state.creatingPdf&&n.a.createElement("div",null,n.a.createElement(se.a,{size:"sm",color:"danger",className:"ml-2"})))),n.a.createElement("div",{className:"col-md-6 p-4 d-flex justify-content-center align-content-center"},n.a.createElement("button",{type:"button",className:"btn p-3 ".concat(ie.a.item),onClick:this.handleProductEmailModalOpen},e("send_product_email"))))),n.a.createElement(Ce,null),n.a.createElement(je,{categories:this.props.configuratorStore.categories}))}}]),t}(r.Component),Ie=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{openSavedProducts:function(){return e({type:"CONFIGURATOR_OPEN_SAVED_PRODUCTS"})},productEmailModalOpen:function(){return e({type:y})}}})(Object(w.b)()(Ne)),Pe=a(62),Re=a.n(Pe),Te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).componentUpdated=!1,a.handleProductClick=function(e){a.props.setActiveItems(e),a.props.savedProductsToggle()},a.handleAddProductClick=function(e){a.props.configuratorStore.productExists?(a.activeItem.style.visibility="hidden",setTimeout(function(){a.activeItem.style.visibility="visible"},200)):re(a.props.addProduct)},a.handleRemoveProductClick=function(e){a.props.removeProduct(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.checkProductExist()}},{key:"componentDidUpdate",value:function(e){var t=this.props.configuratorStore.isCategoriesLoaded;t!==e.configuratorStore.isCategoriesLoaded&&t&&this.props.checkSavedProducts(),this.componentUpdated?this.componentUpdated=!1:(this.props.checkProductExist(),this.componentUpdated=!0)}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.configuratorStore.savedProductsModal,r=this.props.configuratorStore.userSettings.savedProducts,o=this.props.configuratorStore.userSettings.activeItems,c=r.map(function(a,r){var c=JSON.stringify(a.productParts)===JSON.stringify(o),i=c?Re.a.active:void 0;return n.a.createElement("div",{className:Re.a.itemWrapper,key:r,ref:function(t){return c&&(e.activeItem=t)}},n.a.createElement("button",{className:Re.a.btnRemove,onClick:e.handleRemoveProductClick.bind(e,r)},t("remove")),n.a.createElement("button",{className:"".concat(Re.a.btnChange," ").concat(i),id:i,onClick:e.handleProductClick.bind(e,a.productParts)},n.a.createElement("img",{src:a.img,alt:""})))});return n.a.createElement("div",null,n.a.createElement(ue.a,{isOpen:a,toggle:this.props.savedProductsToggle,className:Re.a.modal,centered:!0},n.a.createElement(le.a,{toggle:this.props.savedProductsToggle},t("saved_products")),n.a.createElement(pe.a,null,n.a.createElement("button",{onClick:this.handleAddProductClick},t("add_product")),c)))}}]),t}(r.Component),ke=Object(d.b)(function(e){return Object(h.a)({},e)},function(e){return{savedProductsToggle:function(){return e({type:"CONFIGURATOR_SAVED_PRODUCTS_TOGGLE"})},setActiveItems:function(t){return e(D(t))},removeProduct:function(t){return e(function(e){return{type:"CONFIGURATOR_REMOVE_PRODUCT",payload:{index:e}}}(t))},addProduct:function(t){return e(x(t))},checkProductExist:function(){return e({type:"CONFIGURATOR_CHECK_PRODUCT_EXIST"})},checkSavedProducts:function(){return e({type:"CONFIGURATOR_CHECK_SAVED_PRODUCTS"})}}})(Object(w.b)()(Te)),Ae="http://httpbin.org/post",we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).changeLanguage=function(e){a.props.i18n.changeLanguage(e),a.props.saveRouteLng(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getApiCategories",value:function(){return Le+"categories-".concat(M.a.language,".json")}},{key:"setDefaultCategory",value:function(){var e,t,a=this,r=this.props.match.path==="/"+this.props.t("routeSummaryName"),n=this.props.match.params.category,o=this.props.userSettings.activeCategoryId,c=this.props.categories.findIndex(function(e){return e.slug===n}),i=null;c>-1&&(i=this.props.categories[c].id),o&&(t=this.props.categories.findIndex(function(e){return e.id===o}),e=this.props.categories[t].slug);var s="",u="";this.props.categories.length&&(s=this.props.categories[0].id,u=this.props.categories[0].slug);r?a.props.history.replace(a.props.routeLng+"/"+a.props.t("routeSummaryName")):n?c>-1?a.props.setActiveCategory(i):(a.props.setActiveCategory(s),a.props.history.replace(a.props.routeLng+"/"+a.props.t("routeCategoryName")+"/"+u)):o?o&&(a.props.setActiveCategory(o),a.props.history.replace(a.props.routeLng+"/"+a.props.t("routeCategoryName")+"/"+e)):(a.props.setActiveCategory(s),a.props.history.replace(a.props.routeLng+"/"+a.props.t("routeCategoryName")+"/"+u))}},{key:"setDefaultItems",value:function(){null===this.props.configuratorStore.userSettings.activeItems&&this.props.setDefaultActiveItems(),this.props.setActiveItems()}},{key:"setRouteLang",value:function(){var e=this.props.match.params.lng,t=this.props.i18n,a=t.language;e&&e!==a?(t.changeLanguage(e),this.props.saveRouteLng(e)):this.props.saveRouteLng(a)}},{key:"componentDidMount",value:function(){var e=this;this.setRouteLang();var t=this.props.i18n.language;this.language=t,this.props.getCategories(this.getApiCategories()).then(function(){e.setDefaultItems(),e.setDefaultCategory(),e.props.getDefaultCategory()})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.i18n.language;t!==this.language&&(this.props.getCategories(this.getApiCategories()).then(function(){e.setDefaultItems(),e.setDefaultCategory(),e.props.getDefaultCategory()}),this.language=t)}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.configuratorStore.isLoading,r=this.props.configuratorStore.defaultCategory,o=n.a.createElement("div",{className:"d-flex justify-content-center align-items-center ".concat(G.a.loadingSpinner)},n.a.createElement("div",{className:"spinner-border text-danger ".concat(G.a.loadingSpinnerBorder),role:"status"},n.a.createElement("span",{className:"sr-only"},t("loading"),"...")));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex flex-column ".concat(G.a.wrapper)},n.a.createElement("header",{className:"".concat(G.a.header," text-center text-uppercase my-5")},n.a.createElement("h1",null,t("configurator")),n.a.createElement(function(){var t=e.props.i18n,a=[],r=function(r){var o=r===t.language?G.a.active:void 0;ge.hasOwnProperty(r)&&a.push(n.a.createElement("button",{key:a,onClick:function(){return e.changeLanguage(r)},className:"".concat(G.a.lang__btn," ").concat(o)},r.toUpperCase()))};for(var o in ge)r(o);return n.a.createElement("div",{className:G.a.lang},a)},null)),n.a.createElement("div",{className:"row flex-grow-1 ".concat(G.a.contentWrapper)},n.a.createElement("div",{className:"col-md-2"},n.a.createElement(q,null)),n.a.createElement("div",{className:"col-md-3"},n.a.createElement(A.d,null,n.a.createElement(A.b,{path:this.props.routeLng+"/"+t("routeCategoryName")+"/:category",component:Q}),n.a.createElement(A.b,{path:this.props.routeLng+"/"+t("routeSummaryName"),component:Ie}),r?n.a.createElement(A.a,{to:this.props.routeLng+"/"+t("routeCategoryName")+"/"+r}):null)),n.a.createElement("div",{className:"col-md-7"},n.a.createElement(oe,null)))),n.a.createElement(ke,null),a?o:null)}}]),t}(r.Component),De=Object(d.b)(function(e){return Object(h.a)({},e,{categories:e.configuratorStore.categories,userSettings:e.configuratorStore.userSettings,routeLng:e.configuratorStore.routeLng})},function(e){return{setActiveCategory:function(t){return e(U(t))},setDefaultActiveItems:function(){return e({type:"CONFIGURATOR_SET_DEFAULT_ACTIVE_ITEMS"})},setActiveItems:function(){return e(D())},getCategories:function(t){return e(L(t))},getDefaultCategory:function(){return e({type:S})},saveRouteLng:function(t){return e(function(e){return{type:C,payload:{lng:e}}}(t))}}})(Object(w.b)()(we)),Ue=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getLanguagesString",value:function(){var e=[];for(var t in ge)e.push(t);return e.join("|")}},{key:"render",value:function(){return n.a.createElement(k.a,{basename:"/configurator-app"},n.a.createElement(A.d,null,n.a.createElement(A.b,{path:"/:lng(".concat(this.getLanguagesString(),")"),component:De}),n.a.createElement(A.b,{path:"/"+this.props.t("routeCategoryName")+"/:category",component:De}),n.a.createElement(A.b,{path:"/"+this.props.t("routeSummaryName"),component:De}),n.a.createElement(A.b,{path:"/",component:De})))}}]),t}(r.Component),xe=Object(w.b)()(Ue),Le="/configurator-app/",Me=function(){return n.a.createElement("div",null,"loading...")},Fe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(d.a,{store:T},n.a.createElement(r.Suspense,{fallback:n.a.createElement(Me,null)},n.a.createElement(xe,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(156),ze=a.n(Ge);M.a.use(ze.a).use(w.a).init({fallbackLng:"pl",resources:ge,interpolation:{escapeValue:!1}});M.a;c.a.render(n.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports={wrapper:"Menu_wrapper__3ygBw",link:"Menu_link__3Q20T",active:"Menu_active__3FToW"}},61:function(e,t,a){e.exports={wrapper:"Summary_wrapper__2xuqw",item:"Summary_item__3fnQD",active:"Summary_active__1Qk9z"}},62:function(e,t,a){e.exports={itemWrapper:"SavedProducts_itemWrapper__3uf70",modal:"SavedProducts_modal__3ccyY",btnChange:"SavedProducts_btnChange__lHxmk",active:"SavedProducts_active__3zYHw",btnRemove:"SavedProducts_btnRemove__QlDR8"}},70:function(e,t,a){e.exports={item:"ItemsList_item__3FTGi",active:"ItemsList_active__dVCSF",simpleModel:"ItemsList_simpleModel__2LVpm",thumb:"ItemsList_thumb__C54zP"}},71:function(e,t,a){e.exports={img:"ItemImg_img__A0j5a",bg:"ItemImg_bg__3Y3Rr",btnAdd:"ItemImg_btnAdd__1Vx4E",active:"ItemImg_active__38hnj"}}},[[158,1,2]]]);
//# sourceMappingURL=main.a701db10.chunk.js.map